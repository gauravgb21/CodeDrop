<!DOCTYPE html>
<html>
<title>Code Drop</title>
<head>
<meta charset="utf-8"/>
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <link href='https://fonts.googleapis.com/css?family=Roboto:400,700' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue.css">
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel="stylesheet" href="/css/style.css">
<style>
</style>
<script  src="/js/index.js"></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
</head>
<body>
<!-- Navbar (sit on top) -->
<div class="w3-top">
  <div class="w3-bar w3-theme-d5" id="myNavbar">
    <a class="w3-bar-item w3-button w3-hover-black w3-hide-medium w3-hide-large w3-right" href="javascript:void(0);" onclick="toggleFunction()" title="Toggle Navigation Menu">
      <i class="fa fa-bars"></i>
    </a>
    {{#if user}}
    <form  class="w3-bar-item w3-left" method="post" action="/users/search">
      <input type="text" placeholder="Search.." name="search" style="width: 480px;height: 25px;margin-left: 350px;padding: 2px;">
      <button type="submit" style="background: white; margin-left: 0px;border: none;cursor: pointer;height: 25px;width: 30px;background-color: #c0c2c6;margin-left: -3px;"><i class="fa fa-search"></i></button>
    </form>
    <a href="/users/dashboard" class="w3-bar-item w3-button" style="cursor: pointer;"><i class="fa fa-home"></i>  Home</a>
    <a href="/users/logout" class="w3-bar-item w3-button w3-hide-small w3-right"><i class="fa fa-sign-out"></i> Logout</a>
   <!-- <div class="dropdown w3-hide-small"> -->
    <button class="w3-button w3-padding-large dropdown" id="dropbutn" title="Notifications" onclick="myFunction();"><i class="fa fa-bell"></i><span class="w3-badge w3-right w3-small w3-red">3</span></button>     
    <div class="dropdown-content w3-card-4 w3-bar-block w3-white " id="myDropdown1" style="width:300px;margin-left: 900px;">
      <a href="#" class="w3-bar-item w3-button">One new friend request</a>
      <a href="#" class="w3-bar-item w3-button">{{user.name}} posted on your wall</a>
      <a href="#" class="w3-bar-item w3-button">Jane likes your post</a>
    </div>
  <!-- </div> -->


    {{else}}
    <a href="/register" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-user-plus"></i> Register</a>
    <a href="/" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-sign-in"></i> Login</a>
    {{/if}}
  </div>
  </div>
<!-- Container (About Section) -->
<br>
{{#if success_msg}}
<div class="w3-container w3-section w3-green">
<span onclick="this.parentElement.style.display='none'" class="w3-closebtn" style="cursor: pointer;">&times;</span>
  {{success_msg}}
</div>
{{/if}}
{{# if error_msg}}
<div class="w3-container w3-section w3-red">
<span onclick="this.parentElement.style.display='none'" class="w3-closebtn" style="cursor: pointer;">&times;</span>
  {{error_msg}}
</div>
{{/if}}
{{#if error}}
<div class="w3-container w3-section w3-red">
<span onclick="this.parentElement.style.display='none'" class="w3-closebtn" style="cursor: pointer;">&times;</span>
  {{error}}
</div>
{{/if}}

{{{body}}}

<script>
/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */
function myFunction() {
    document.getElementById("myDropdown1").classList.toggle("show");
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(event) {
  if (!event.target.matches('#dropbutn')) {

    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}
</script>

</body>
</html>